### Основные рекомендации

- **Минималистичность** - небольшое число методов (несколько штук)
- **Независимость от реализации** - интерфейс не должен ничего знать о типах, которые его реализуют

**Следовать данным рекомендациям помогает подход =="Интерфейсы по месту использования"==** 

Пример:

```go
func New (userRepo Users.Storage) handlers.Handler {
	return func (ctx context.Context) {
		uid := 1
		
		user, err := userRepo.User(uid)
		if err != nil {
			//...
		}
		//...
	}
}
```

В данном примере мы имеем массивный интерфейс Users.Storage, определенный во внешнем файле.
Такой подход:
- заставляет нас для использования данного хэндлера реализовывать большое кол-во методов интерфейса `Users.Storage`, хотя нам нужен лишь один `User`.
- предопределяет работу именно с базой данных (так как в той папке и объявлен данный интерфейс)
- делает хэндлеры зависимыми от интерфейса  `Users.Storage`
- уменьшает понятность кода, так как мы сразу видим, что принимает данный хэндлер

**Как это можно изменить:**

```go

type UserProvider interface {
	User(int) users.User
}

func New (userProvider UserProvider) handlers.Handler {
	return func (ctx context.Context) {
		uid := 1
		
		user, err := userProvider.User(uid)
		if err != nil {
			//...
		}
		//...
	}
}
```

Мы объявили минималистичный интерфейс по месту использования, тем самым нивелировали все вышесказанные минусы

Это возможно благодаря утиной типизации, описанной здесь [[Интерфейсы в Go]]

[Источник](https://www.youtube.com/watch?v=eYHCCht8eX4)

