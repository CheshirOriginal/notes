Время от времени возникает задача удаления записей из таблицы. Для этого в SQL предусмотрены операторы DELETE и TRUNCATE, из которых наиболее универсальным и безопасным является первый вариант.
## Общая структура запроса с оператором DELETE

```sql
DELETE FROM имя_таблицы
[WHERE условие_отбора_записей];
```

Если условие отбора записей WHERE отсутствует, то будут удалены все записи указанной таблицы.

Эту же операцию (удаления всех записей) можно сделать также с помощью оператора TRUNCATE. Он выполнит удаление таблицы и пересоздаст её заново - этот вариант работает гораздо быстрее, чем удаление всех записей одна за другой (как в случае с DELETE) особенно для больших таблиц.

## Общая структура запроса с оператором TRUNCATE

```sql
TRUNCATE TABLE имя_таблицы;
```

Однако у оператора TRUNCATE есть ряд отличий:

- Не срабатывают триггеры, в частности, триггер удаления
- Удаляет все строки в таблице, не записывая при этом удаление отдельных строк данных в журнал транзакций
- Сбрасывает счётчик идентификаторов до начального значения
- Чтобы использовать, необходимы права на изменение таблицы

## Удаление записей при многотабличных запросах

Если в DELETE запросе используется JOIN, то необходимо указать из каких именно таблиц требуется удалять записи.

```sql
DELETE FROM имя_таблицы_1
USING имя_таблицы_2
WHERE имя_таблицы_1.поле = имя_таблицы_2.поле
[AND условие_отбора_записей];
```

Например, нам необходимо удалить все бронирования жилья, в котором отсутствует кухня. Тогда запрос будет выглядеть следующим образом:

```sql
DELETE FROM Reservations
USING Rooms
WHERE Reservations.room_id = Rooms.id
AND Rooms.has_kitchen = false;
```

Если бы, помимо удаления бронирования, нам нужно было также удалить и жилье, то запрос приобрёл бы следующий вид:

В PostgreSQL для удаления из нескольких таблиц одновременно используются отдельные DELETE запросы или транзакции:

```sql
BEGIN;
DELETE FROM Reservations
USING Rooms
WHERE Reservations.room_id = Rooms.id
AND Rooms.has_kitchen = false;

DELETE FROM Rooms
WHERE Rooms.has_kitchen = false;
COMMIT;
```